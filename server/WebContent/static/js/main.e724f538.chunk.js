(this.webpackJsonptestproject=this.webpackJsonptestproject||[]).push([[0],{29:function(e,t){e.exports=function(){this.isBlue=function(e){var t=e[1]+e[2],r=e[3]+e[4],n=e[5]+e[6];t=parseInt("0x"+t),r=parseInt("0x"+r),n=parseInt("0x"+n);var a=Math.min(t,r,n);return t-=a,(n-=a)>(r-=a)&&n>t&&!(r<t&&t/n>.5)},this.isNumeric=function(e){for(var t=""+e,r=t.length,n=0;n<r;n++)if(!"0123456789".includes(t[n]))return!1;return!0},this.isHex=function(e){if(void 0!==e){if(e.length>1){for(var t=1;t<e.length;t++)if(!"0123456789abcdef".includes(e[t]))return!1;return!0}}return!1},this.isColor=function(e){return void 0!==e&&(!(e.length<1)&&(!(e.length>7)&&(7===e.length&&("#"===e[0]&&!1!==this.isHex(e)))))},this.isValidDestination=function(e,t){if(void 0!==e&&void 0!==t)for(var r=0;r<t.length;r++)if(void 0!==t[r].countryCode&&void 0!==e.countryCode&&t[r].countryCode===e.countryCode)return!0;return!1},this.validateDestination=function(e,t){if(void 0!==e&&void 0!==t)for(var r=0;r<t.length;r++)if(t[r].countryCode===e)return!0;return!1},this.validateColor=function(e){return!(void 0===e||this.isBlue(e)||!this.isColor(e))},this.validateWeight=function(e){return!!(void 0!==e&&void 0!==e&&this.isNumeric(e)&&parseInt(e)>0&&parseInt(e)<2e4)},this.validateName=function(e){return void 0!==e&&void 0!==e&&e.length>0&&e.length<101},this.validateSave=function(e,t){return!!this.validateName(e.name)&&(!!this.validateWeight(e.weight)&&(!!this.validateColor(e.color)&&!!this.validateDestination(e.destination,t)))}}},37:function(e,t,r){e.exports=r(51)},42:function(e,t,r){},43:function(e,t,r){},51:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(17),i=r.n(o),s=(r(42),r(2)),l=r(3),c=r(6),u=r(4),p=r(7),E=(r(43),r(15)),d=r(12),h=r(5);var m=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onUpdateBoxes()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Shippling list"),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Weight"),a.a.createElement("th",null,"Color"),a.a.createElement("th",null,"Price"))),a.a.createElement("tbody",null,this.props.boxes.map((function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.name),a.a.createElement("td",null,e.weight),a.a.createElement("td",{style:{backgroundColor:e.color}}),a.a.createElement("td",null,(parseFloat(e.weight)*parseFloat(e.destination.priceMultiplier)).toFixed(2)))})),a.a.createElement("tr",{id:"summary"},a.a.createElement("td",null,"totalweight "),a.a.createElement("td",null,this.props.totalWeight.toFixed(2)),a.a.createElement("td",null,"totalprice "),a.a.createElement("td",null,this.props.totalPrice.toFixed(2)),a.a.createElement("td",null," ")))))}}]),t}(n.Component),v=Object(h.b)((function(e){return{boxes:e.boxes,totalPrice:e.totalPrice,totalWeight:e.totalWeight}}),(function(e){return{onUpdateBoxes:function(){return e((function(e){var t=new XMLHttpRequest;t.open("GET","http://localhost:8080/api/box/list",!0),t.send(),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var r=t.responseText,n=JSON.parse(r);return e({type:"UPDATE_BOXES",data:n})}}}))}}}))(m),T=new(r(29)),g=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){e.props.onUpdateSave(e.props.box,e.props.destArr)}},"save"),a.a.createElement("div",{className:this.props.saved,hidden:!this.props.hideSave},a.a.createElement("p",null,"Saved box")),a.a.createElement("div",null,a.a.createElement("p",{className:"errorText",hidden:!this.props.serverErrorBanner},"An error occured while uploading a box"),a.a.createElement("p",{className:"errorText",hidden:!this.props.serverErrors.name},"The name is not recognized ny the server"),a.a.createElement("p",{className:"errorText",hidden:!this.props.serverErrors.weight},"The weight is not valid"),a.a.createElement("p",{className:"errorText",hidden:!this.props.serverErrors.color},"The color is not a valid color"),a.a.createElement("p",{className:"errorText",hidden:!this.props.serverErrors.destination},"The destination is not a valid destination")))}}]),t}(n.Component),f=Object(h.b)((function(e){return{hideSave:e.saved,saved:e.saved+"Save",valid:!(e.serverErrors.name||e.serverErrors.weight||e.serverErrors.color||e.serverErrors.destination)+"",box:{name:e.name,weight:e.weight,color:e.color,destination:e.destination.countryCode},serverErrors:e.serverErrors,serverErrorBanner:e.serverErrors.name||e.serverErrors.weight||e.serverErrors.color||e.serverErrors.destination,errorTexts:[e.nameErrorText,e.weightErrorText,e.colorErrorText,e.destinationErrorText],destArr:e.destinations}}),(function(e){return{onUpdateSave:function(t,r){if(e({type:"VALIDATE_NAME"}),e({type:"VALIDATE_WEIGHT"}),e({type:"VALIDATE_COLOR"}),e({type:"VALIDATE_DESTINATION"}),T.validateSave(t,r)){var n={name:t.name,weight:parseInt(t.weight),color:t.color,countryCode:t.destination};e((a=n,function(e){var t=new XMLHttpRequest;t.open("POST","http://localhost:8080/api/box/save",!0),t.setRequestHeader("content-type","application/json"),t.send(JSON.stringify(a)),t.onreadystatechange=function(){if(4!==t.readyState||200!==t.status);else{var r=t.responseText,n=JSON.parse(r);void 0!==n.status&&0===n.status.localeCompare("success")?e({type:"SAVED",value:!0}):function(e,t){t({type:"NAME_SERVER_ERROR",value:!1}),t({type:"WEIGHT_SERVER_ERROR",value:!1}),t({type:"COLOR_SERVER_ERROR",value:!1}),t({type:"DESTINATION_SERVER_ERROR",value:!1});for(var r=0;r<4;r++)"N"===e[r]&&t({type:"NAME_SERVER_ERROR",value:!0}),"W"===e[r]&&t({type:"WEIGHT_SERVER_ERROR",value:!0}),"C"===e[r]&&t({type:"COLOR_SERVER_ERROR",value:!0}),"D"===e[r]&&t({type:"DESTINATION_SERVER_ERROR",value:!0})}(JSON.parse(t.responseText).status,e)}}}))}var a}}}))(g),y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onUpdateDestinations()}},{key:"render",value:function(){return a.a.createElement("div",{id:"input-wrapper"},"Destination",a.a.createElement("br",null),a.a.createElement("select",{className:this.props.valid,onChange:this.props.onChangeDestination},a.a.createElement("option",null,"-choose dest-"),this.props.destinations.map((function(e,t){return a.a.createElement("option",{key:t,value:e.countryCode},e.name)}))),a.a.createElement("div",{className:"errorText"},this.props.errorText))}}]),t}(n.Component),b=Object(h.b)((function(e){return{valid:(!e.destinationErrorText.length>0)+"",destination:e.destination,errorText:e.destinationErrorText,destinations:e.destinations}}),(function(e){return{onUpdateDestinations:function(){e((function(e){var t=new XMLHttpRequest;t.open("GET","http://localhost:8080/api/box/destinations",!0),t.send(),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var r=t.responseText,n=JSON.parse(r);return e({type:"UPDATE_DESTINATIONS",data:n})}}}))},onChangeDestination:function(t){e({type:"CHANGE_DESTINATION",data:t.target.selectedIndex-1}),e({type:"VALIDATE_DESTINATION",data:t.target.selectedIndex-1})}}}))(y),x=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{id:"input-wrapper"},"Color",a.a.createElement("br",null),a.a.createElement("div",{style:{backgroundColor:this.props.color},className:this.props.valid},a.a.createElement("input",{id:"picker",type:"color",value:this.props.color,onBlur:this.props.onvalidate,onChange:this.props.onColorChange})),a.a.createElement("div",{className:"errorText"},this.props.errors))}}]),t}(n.Component),O=Object(h.b)((function(e){return{valid:(!e.colorErrorText.length>0)+"",color:e.color,errors:e.colorErrorText}}),(function(e,t){return{onColorChange:function(t){e({type:"COLOR_CHANGE",color:t.target.value}),e({type:"VALIDATE_COLOR"})},onvalidate:function(){e({type:"VALIDATE_COLOR"})}}}))(x),N=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"input-wrapper"},"Weight",a.a.createElement("br",null),a.a.createElement("input",{className:this.props.valid,id:"number",type:"text",onBlur:function(){e.props.onvalidate()},onChange:this.props.onNumberChange}),a.a.createElement("div",{className:"errorText"},this.props.errors))}}]),t}(n.Component),R=Object(h.b)((function(e){return{valid:(!e.weightErrorText.length>0)+"",weight:e.weight,errors:e.weightErrorText}}),(function(e,t){return{onNumberChange:function(t){e({type:"NUMBER_CHANGE",text:t.target.value}),e({type:"VALIDATE_WEIGHT"})},onvalidate:function(){e({type:"VALIDATE_WEIGHT"})}}}))(N),A=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"input-wrapper"},"Name",a.a.createElement("br",null),a.a.createElement("input",{className:this.props.valid,type:"text",onBlur:function(){e.props.onvalidate()},onChange:function(t){e.props.onNameChange(t.target.value)}}),a.a.createElement("div",{className:"errorText"},this.props.errorText))}}]),t}(n.Component),C=Object(h.b)((function(e){return{valid:(!e.nameErrorText.length>0)+"",name:e.name,errorText:e.nameErrorText,errors:e.errors.nameErrors}}),(function(e){return{onNameChange:function(t){e({type:"NAME_CHANGE",data:t}),e({type:"VALIDATE_NAME"})},onvalidate:function(){e({type:"VALIDATE_NAME"})}}}))(A),w=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"boxForm"},a.a.createElement("h1",null,"Depart box"),a.a.createElement(C,null),a.a.createElement(R,null),a.a.createElement(O,null),a.a.createElement(b,null),a.a.createElement(f,null))}}]),t}(n.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(E.b,{basename:"/"},a.a.createElement("div",{id:"body"},a.a.createElement("div",{id:"navigator"},a.a.createElement(E.c,{className:"link",onClick:this.props.onReset,to:"/addbox"},"Add"),a.a.createElement(E.c,{className:"link",onClick:this.props.onReset,to:"/listboxes"},"List"),a.a.createElement("div",null)),a.a.createElement("div",{id:"content"},a.a.createElement(d.c,null,a.a.createElement(d.a,{path:"/addbox",component:w}),a.a.createElement(d.a,{path:"/listboxes",component:v})))))}}]),t}(n.Component),I=Object(h.b)((function(e){return{}}),(function(e){return{onReset:function(){e({type:"RESET_INPUTS"})}}}))(j),_=r(25),D=r(34);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(D.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=new(r(29)),P={name:"",weight:0,color:"#2ab3bf",destination:[],destinations:[],progress:!1,boxes:[],totalWeight:0,totalPrice:0,nameErrorText:"",weightErrorText:"",colorErrorText:"",destinationErrorText:"",saved:!1,serverErrors:{name:!1,weight:!1,color:!1,destination:!1},lastLength:0,errors:{nameErrors:{isEmpty:{status:!0,errorText:"Empty feilds are not allowed, please enter a name"},isToLong:{status:!1,errorText:"Name is too long, please enter a shorter name"}},weightErrors:{isZero:{status:!1,errorText:"Only non-zero positive integers are acceptable as weights, please re-enter"},isNegative:{status:!1,errorText:"Negative numbers are not allowed, please re-enter weight"},isEmpty:{status:!0,errorText:"Empty feilds are not allowed, please enter weight"},isNumeric:{status:!1,errorText:"Non mumeric caracters are not allowed. Allowed: (0-9) Not Allowed: (all other ex: -/&%\xa4#!()=?`^*abc..."},tooHeavy:{status:!1,errorText:"Our shipping facility can only accept boxes with a total weight of up to 20 000 kg. Please enter a lighter box."}},colorErrors:{isBlue:{status:!1,errorText:"Blue colors are not allowed, plese re-enter color"},isColor:{status:!0,errorText:"The value of the colorpicker is not valid please enter another color"}},destinationerrors:{isProperDestination:{status:!1,errorText:"The destination specified is not acceptable, please re-enter"}}}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,r=L({},e);if("NUMBER_CHANGE"===t.type&&(V.isNumeric(t.text)?(r.weight=t.text,r.lastLength=r.weight.length):document.getElementById("number").value=t.text.substring(0,t.text.length-r.lastLength-t.text.length)),"COLOR_CHANGE"===t.type&&(r.color=t.color),"UPDATE_DESTINATIONS"===t.type&&(r.destinations=t.data),"SAVED"===t.type)return r.saved=t.value,r;if("CHANGE_DESTINATION"===t.type&&(t.data<0||t.data>3?r.destination=[{countryCode:"invalid",name:"invalid",priceMultiplier:1e3}]:r.destination=r.destinations[t.data]),"RESET_INPUTS"===t.type&&(r.name=P.name,r.weight=P.weight,r.color=P.color,r.destination=P.destination,r.colorErrorText=P.colorErrorText,r.nameErrorText=P.nameErrorText,r.weightErrorText=P.weightErrorText,r.destinationErrorText=P.destinationErrorText,r.errors=P.errors),"UPDATE_BOXES"===t.type&&(r.boxes=t.data.boxes,r.totalPrice=t.data.totalPrice,r.totalWeight=t.data.totalWeight),"NAME_CHANGE"===t.type&&(r.name=t.data),"NAME_SERVER_ERROR"===t.type&&(r.serverErrors.name=t.value),"WEIGHT_SERVER_ERROR"===t.type&&(r.serverErrors.weight=t.value),"COLOR_SERVER_ERROR"===t.type&&(r.serverErrors.color=t.value),"DESTINATION_SERVER_ERROR"===t.type&&(r.serverErrors.destination=t.value),"VALIDATE_NAME"===t.type){var n=r.errors.nameErrors,a=r.name;r.nameErrorText="",a.length<1?(n.isEmpty.status=!0,r.nameErrorText+=n.isEmpty.errorText):n.isEmpty.status=P.errors.nameErrors.isEmpty.status,a.length>100?(n.isToLong.status=!0,r.nameErrorText+=n.isToLong.errorText):n.isToLong.status=P.errors.nameErrors.isToLong.status}if("VALIDATE_WEIGHT"===t.type){var o=r.errors.weightErrors,i=P.errors.weightErrors,s=r.weight;r.weightErrorText="",s.length<1?(o.isEmpty.status=!0,r.weightErrorText+=o.isEmpty.errorText):o.isEmpty.status=i.isEmpty.status,V.isNumeric(s)?o.isNumeric.status=i.isNumeric.status:(o.isNumeric.status=!1,r.weightErrorText+=o.isNumeric.errorText),V.isNumeric(s)&&parseInt(s)<0?(document.getElementById("number").text="0",document.getElementById("number").value="0",r.weight="0",o.isNegative.status=!0,r.weightErrorText+=o.isNegative.errorText):o.isNegative.status=i.isNegative.status,V.isNumeric(s)&&0===parseInt(s)?(o.isZero.status=!0,r.weightErrorText+=o.isZero.errorText):o.isZero.status=i.isZero.status,V.isNumeric(s)&&parseInt(s)>2e4?(o.tooHeavy.status=!0,r.weightErrorText+=o.tooHeavy.errorText):o.tooHeavy.status=i.tooHeavy.status}if("VALIDATE_COLOR"===t.type){var l=r.errors.colorErrors,c=r.color;r.colorErrorText="",V.isBlue(c)?(l.isBlue.status=!0,r.colorErrorText+=l.isBlue.errorText):l.isBlue.status=P.errors.colorErrors.isBlue.status,V.isColor(c)?l.isColor.status=P.errors.colorErrors.isColor.status:(l.isColor.status=!1,r.colorErrorText+=l.isColor.errorText)}if("VALIDATE_DESTINATION"===t.type){var u=r.errors.destinationerrors;r.destinationErrorText="",V.isValidDestination(r.destination,r.destinations)?u.isProperDestination.status=P.errors.destinationerrors.isProperDestination.status:(u.status=!1,r.destinationErrorText+=u.isProperDestination.errorText)}return r.saved=!1,r},H=r(35),k=Object(_.b)(B,Object(_.a)(H.a));i.a.render(a.a.createElement(E.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_ROUTER_BASE||""},a.a.createElement(h.a,{store:k},a.a.createElement(I,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.e724f538.chunk.js.map